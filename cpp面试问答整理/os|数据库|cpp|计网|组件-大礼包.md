# CPP
## STL
1.迭代器失效问题
- 树形迭代器(map/set/multimap/multiset)的插入和修改都不影响其它迭代器，删除后被删除元素的迭代器失效
- 链表形迭代器(list)同上
- 数组形迭代器(vector/deque)，被操作元素及其后边的元素迭代器都失效(如果capcity发生改变，则全部失效，这里特指vector的resize())

2.vector
- 分配是在堆还是在栈？在堆。因为要求下标连续，栈内没法保证连续；其次vector需要扩展，栈内也没法扩展。
- resize和reserve有什么区别？resize用来改变实际存储的元素数量(size)，如果比原来小，会删除末尾元素，如果比原来大，会添加默认值。
而reserve改变的则是预分配内存大小(capcity)，如果比原来小，不会做任何事情，如果比原来大，会重新分配内存。
- 如何改变size大小？
- 如何改变capcity大小？

3.map是线程安全的吗？
  
4.一致性哈希算法和普通哈希算法有什么区别？

5.数组和链表的区别

6.栈和队列的区别

7.map和unordered_map的效率比较

8.unordered_map的底层

9.map的底层(即红黑树原理)？

10.讲一下开链法

## 智能指针
1.shareptr是不是线程安全的？
否，shareptr只通过原子操作保证计数是线程安全的，但多线程同时访问shareptr所管理的对象时依然会有并发问题，需要加锁。

2.把uniqueptr移动到shareptr会发生什么？
uniqueptr的为空，不再拥有资源，shareptr创建一个新的控制块来管理资源。底层伪代码是：
```cpp
template<typename T>
std::shared_ptr<T>::shared_ptr(std::unique_ptr<T>&& uniquePtr) {
    if (uniquePtr) {
        // 接管资源
        this->ptr = uniquePtr.release();
        // 创建控制块
        this->controlBlock = new ControlBlock();
        this->controlBlock->refCount = 1;
    } else {
        this->ptr = nullptr;
        this->controlBlock = nullptr;
    }
}
```

## 语法
1.struct和class区别

2.构造函数允许是虚函数吗？

3.析构函数允许是虚函数吗？

4.构造和析构函数里throw会有什么问题？

5.如果有一个类在析构的时候可能throw，怎么设计能保证正确析构并释放内存？

6.C++11/14新特性，你常用的有哪些？

7.讲一下万能引用和完美转发

8.讲一下纯虚函数和抽象类

9.讲讲拷贝构造函数和operator=()

10.memcpy和memmove区别

11.内存屏障了解吗？

# OS
1.消息队列有了解过吗？如何保证信息不丢失？如何保证一致性？

2.fork()的具体过程？

3.fork()都会返回吗？

4.linux命令行输入命令后的执行过程？

5.CAS操作了解吗？

6.int和uint和浮点数的二进制表示，每一位的含义？

7.进程和线程的区别，相关系统调用

8.互斥锁和自旋锁的区别与具体应用？

# 数据库
1.什么时候该建立索引？什么时候不该建立索引？如何建立索引？

2.查询索引一定更快吗？分析下列情况怎么使用索引会更快？

3.数据库内核是怎么决定是否使用索引查询以及该用哪个索引查询？如何sampling，怎么计算查询成本和
生成执行计划？

4.如何让索引尽可能加速查询操作？

5.回表是什么？如何减少回表操作？

6.如果数据库的io很大，有哪些可能性，该如何排查并定位原因，该如何优化？

7.数据库还有哪些性能指标？

8.为什么主键要用自增id？

9.覆盖索引了解吗，具体怎么用？

10.为什么用B+输不用B树？如果把内容存在内存上，用B树会不会快一点？

11.B+树和B树的时间复杂度有什么区别，有的话差多少？

# 计网
## TCP
1.TCP三次握手过程

2.syn序列号是怎么确定并发送的？

3.为什么ack回应的序列号是x+1？

4.简述DDos攻击，该如何防治？

5.RST有什么具体作用？

6.MTU是什么？

7.TIME_WAIT有什么用？

8.比较TCP和UDP

9.TCP为什么会粘包(Nagle)算法和解决方法？

10.怎么设计一个可靠且报文有序的UDP协议？

11.讲一下TCP的滑动窗口机制

12.全连接队列与半连接队列了解吗？

## HTTP

1.http请求由哪部分构成？

2.常见的请求头有什么？

3.get和post的区别？

4.HTTP用TCP还是UDP？

5.常见状态码

6.是长连接还是短连接，如何用UDP实现

## 其它协议
1.知道ICMP吗？

## 服务器底层
1.epoll和select和poll有什么区别

2.什么时候用水平触发，什么时候用边缘触发？

3.一个TCP句柄什么情况下会有可读事件？

4.TCP的connect发送了什么报文?

5.UDP的句柄能执行connect吗？

# 中间件
1.zookeeper了解吗？

2.MySQL/Redis/Kafka等在高性能，高可用，高并发方面有什么设计？
Redis有哨兵集群和切片集群。

3.Redis的缓存三姐妹(缓存穿透/缓存击穿/缓存雪崩)？

4.etcd的原理？

# 设计模式
1.单例模式怎么实现？

2.怎么实现一个线程一个单例？

# Linux
1.查看进程系列命令:
- ps-aux第二列是什么
- ps-aux和ps -elf的区别

# 脑筋急转弯
1.10个红球和10个白球放俩盒子里，怎么分配使得从这俩盒子中摸一个球是红球的概率最高？

2.25匹马，5个跑道，最少需要多少次比赛选出最快top3？

3.
